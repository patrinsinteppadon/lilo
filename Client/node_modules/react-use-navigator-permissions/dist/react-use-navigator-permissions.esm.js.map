{"version":3,"file":"react-use-navigator-permissions.esm.js","sources":["../src/index.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst useNavigatorPermissions = (\n  /** The name of the API you'd like to query. */\n  name: PermissionName,\n  /** Reference: https://developer.mozilla.org/en-US/docs/Web/API/Permissions/query */\n  configuration?: object\n): {\n  /** The permission status. This will be an empty string if it's still fetching. */\n  status: string;\n  /** Returns true if the navigator api encounters an issue. */\n  error: boolean;\n} => {\n  const [error, setError] = useState(false);\n  const [permitted, setPermitted] = useState('');\n\n  useEffect(() => {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    if (window.navigator && window.navigator.permissions) {\n      window.navigator.permissions\n        .query({ name, ...configuration })\n        .then(status => {\n          setPermitted(status.state);\n        });\n    } else {\n      setError(true);\n    }\n  }, [name, configuration]);\n\n  return { status: permitted, error };\n};\n\nexport default useNavigatorPermissions;\n"],"names":["useNavigatorPermissions","name","configuration","useState","error","setError","permitted","setPermitted","useEffect","window","navigator","permissions","query","then","status","state"],"mappings":";;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,uBAAuB,GAAG,SAA1BA,uBAA0B;AAC9B;AACAC,IAF8B;AAG9B;AACAC,aAJ8B;kBAWJC,QAAQ,CAAC,KAAD;MAA3BC;MAAOC;;mBACoBF,QAAQ,CAAC,EAAD;MAAnCG;MAAWC;;AAElBC,EAAAA,SAAS,CAAC;AACR,QAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACjC;AACD;;AAED,QAAIA,MAAM,CAACC,SAAP,IAAoBD,MAAM,CAACC,SAAP,CAAiBC,WAAzC,EAAsD;AACpDF,MAAAA,MAAM,CAACC,SAAP,CAAiBC,WAAjB,CACGC,KADH;AACWX,QAAAA,IAAI,EAAJA;AADX,SACoBC,aADpB,GAEGW,IAFH,CAEQ,UAAAC,MAAM;AACVP,QAAAA,YAAY,CAACO,MAAM,CAACC,KAAR,CAAZ;AACD,OAJH;AAKD,KAND,MAMO;AACLV,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;AACF,GAdQ,EAcN,CAACJ,IAAD,EAAOC,aAAP,CAdM,CAAT;AAgBA,SAAO;AAAEY,IAAAA,MAAM,EAAER,SAAV;AAAqBF,IAAAA,KAAK,EAALA;AAArB,GAAP;AACD,CA/BD;;;;"}