{"version":3,"file":"react-use-navigator-permissions.cjs.production.min.js","sources":["../src/index.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst useNavigatorPermissions = (\n  /** The name of the API you'd like to query. */\n  name: PermissionName,\n  /** Reference: https://developer.mozilla.org/en-US/docs/Web/API/Permissions/query */\n  configuration?: object\n): {\n  /** The permission status. This will be an empty string if it's still fetching. */\n  status: string;\n  /** Returns true if the navigator api encounters an issue. */\n  error: boolean;\n} => {\n  const [error, setError] = useState(false);\n  const [permitted, setPermitted] = useState('');\n\n  useEffect(() => {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    if (window.navigator && window.navigator.permissions) {\n      window.navigator.permissions\n        .query({ name, ...configuration })\n        .then(status => {\n          setPermitted(status.state);\n        });\n    } else {\n      setError(true);\n    }\n  }, [name, configuration]);\n\n  return { status: permitted, error };\n};\n\nexport default useNavigatorPermissions;\n"],"names":["name","configuration","useState","error","setError","permitted","setPermitted","useEffect","window","navigator","permissions","query","then","status","state"],"mappings":"0TAEgC,SAE9BA,EAEAC,SAO0BC,YAAS,GAA5BC,OAAOC,SACoBF,WAAS,IAApCG,OAAWC,cAElBC,aAAU,WACc,oBAAXC,SAIPA,OAAOC,WAAaD,OAAOC,UAAUC,YACvCF,OAAOC,UAAUC,YACdC,SAAQX,KAAAA,GAASC,IACjBW,MAAK,SAAAC,GACJP,EAAaO,EAAOC,UAGxBV,GAAS,MAEV,CAACJ,EAAMC,IAEH,CAAEY,OAAQR,EAAWF,MAAAA"}