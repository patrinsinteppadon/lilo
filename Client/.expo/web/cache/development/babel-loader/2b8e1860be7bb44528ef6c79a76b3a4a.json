{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/paola/Documents/Capstone/lilo/Calling.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\n\nvar Calling = function (_React$Component) {\n  _inherits(Calling, _React$Component);\n\n  var _super = _createSuper(Calling);\n\n  function Calling(props) {\n    var _this;\n\n    _classCallCheck(this, Calling);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      startButton: false,\n      callButton: true,\n      hangupButton: true,\n      stopButton: true\n    };\n    _this.startLocalVideo = _this.startLocalVideo.bind(_assertThisInitialized(_this));\n    _this.connectRemoteVideo = _this.connectRemoteVideo.bind(_assertThisInitialized(_this));\n    _this.stopRemoteVideo = _this.stopRemoteVideo.bind(_assertThisInitialized(_this));\n    _this.stopLocalVideo = _this.stopLocalVideo.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Calling, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        class: \"calling\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        class: \"vide-screens\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 17\n        }\n      }), React.createElement(View, {\n        class: \"buttons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }\n      }, React.createElement(Button, {\n        title: \"start\",\n        disabled: this.state.startButton,\n        onPress: this.startLocalVideo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }\n      }), React.createElement(Button, {\n        title: \"call\",\n        disabled: this.state.callButton,\n        onPress: this.connectRemoteVideo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }\n      }), React.createElement(Button, {\n        title: \"hang up\",\n        disabled: this.state.hangupButton,\n        onPress: this.stopRemoteVideo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }\n      }), React.createElement(Button, {\n        title: \"stop\",\n        disabled: this.state.stopButton,\n        onPress: this.stopLocalVideo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }\n      })));\n    }\n  }, {\n    key: \"startLocalVideo\",\n    value: function startLocalVideo() {\n      this.setState({\n        startButton: true,\n        callButton: false,\n        stopButton: false\n      });\n      console.log(\"start local video\");\n\n      try {\n        console.log(\"successfully started video\");\n      } catch (e) {\n        console.log('error in start local video');\n      }\n    }\n  }, {\n    key: \"connectRemoteVideo\",\n    value: function connectRemoteVideo() {\n      this.setState({\n        callButton: true,\n        hangupButton: false\n      });\n      console.log(\"connect to remote video\");\n    }\n  }, {\n    key: \"stopRemoteVideo\",\n    value: function stopRemoteVideo() {\n      this.setState({\n        startButton: false,\n        callButton: false,\n        hangupButton: true,\n        stopButton: true\n      });\n      console.log(\"stop remote video\");\n    }\n  }, {\n    key: \"stopLocalVideo\",\n    value: function stopLocalVideo() {\n      this.setState({\n        startButton: false,\n        stopButton: true\n      });\n      console.log(\"stop local video\");\n    }\n  }]);\n\n  return Calling;\n}(React.Component);\n\nexport default Calling;","map":{"version":3,"sources":["/Users/paola/Documents/Capstone/lilo/Calling.js"],"names":["React","Calling","props","state","startButton","callButton","hangupButton","stopButton","startLocalVideo","bind","connectRemoteVideo","stopRemoteVideo","stopLocalVideo","setState","console","log","e","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { StyleSheet, View, Button, Text } from 'react-native';\n// import Video from 'react-native-video';\n// import {\n//     RTCPeerConnection,\n//     RTCIceCandidate,\n//     RTCSessionDescription,\n//     RTCView,\n//     MediaStream,\n//     MediaStreamTrack,\n//     mediaDevices,\n//     registerGlobals,\n//   } from 'react-native-webrtc';\n\nclass Calling extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            startButton:false,\n            callButton:true,\n            hangupButton:true,\n            stopButton:true,\n        }\n        this.startLocalVideo = this.startLocalVideo.bind(this)\n        this.connectRemoteVideo = this.connectRemoteVideo.bind(this)\n        this.stopRemoteVideo = this.stopRemoteVideo.bind(this)\n        this.stopLocalVideo = this.stopLocalVideo.bind(this)\n    }\n\n\n    render() {\n        return (\n            <View class=\"calling\">\n                <View class=\"vide-screens\">\n                    {/* <Video onError={this.videoError} muted={true}  /> */}\n                </View>\n\n                <View class=\"buttons\">\n                    {/* add start button: starts local video */}\n                    <Button title=\"start\" disabled={this.state.startButton} onPress={this.startLocalVideo} />\n\n                    {/* add call button: calls remote video  */}\n                    <Button title=\"call\" disabled={this.state.callButton} onPress={this.connectRemoteVideo} />\n\n                    {/* add hang-up button: stops remote video  */}\n                    <Button title=\"hang up\" disabled={this.state.hangupButton} onPress={this.stopRemoteVideo} />\n\n                    {/* add stop: stops local video */}\n                    <Button title=\"stop\" disabled={this.state.stopButton} onPress={this.stopLocalVideo} />\n                </View>\n            </View>\n\n        );\n\n    }\n\n    startLocalVideo() {\n        // enable call and stop (local video) buttons\n        // disable start button\n        this.setState({startButton:true, callButton:false, stopButton:false})\n        console.log(\"start local video\")\n\n        try {\n            console.log(\"successfully started video\")\n        } catch (e) {\n            console.log('error in start local video')\n        }\n\n        // try {\n        //     const stream = await navigator.mediaDevices.getUserMedia({audio: true, video: true});\n        //     console.log('Received local stream');\n        //     localVideo.srcObject = stream;\n        //     localStream = stream;\n        //     callButton.disabled = false;\n        // } catch (e) {\n        //     alert(`getUserMedia() error: ${e.name}`);\n        // }\n    }\n\n    connectRemoteVideo() {\n        // enable hangup button\n        // disable call button\n        this.setState({callButton:true, hangupButton:false})\n        console.log(\"connect to remote video\")\n    }\n\n    stopRemoteVideo() {\n        // enable call button and start button\n        // disable hangup button and stop button\n        this.setState({startButton:false, callButton:false, hangupButton:true, stopButton:true})\n        console.log(\"stop remote video\")\n    }\n\n    stopLocalVideo() {\n        // enable start button \n        // disable stop button\n        this.setState({startButton:false, stopButton:true})\n        console.log(\"stop local video\")\n    }\n\n}\n\nexport default Calling;"]},"metadata":{},"sourceType":"module"}